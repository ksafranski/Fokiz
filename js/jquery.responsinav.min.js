/*
*
* ResponsiNav Plugin
* @author - Kent Safranski - http://www.fluidbyte.net
*
*/
(function(a){a.fn.responsinav=function(b){var b=jQuery.extend({breakpoint:480},b);rn_mode=undefined;sub_nav_bind=false;a(window).bind("load resize",function(){if(a(window).width()<=b.breakpoint){if(rn_mode==0||rn_mode==undefined){nav.reset();nav.mobile()}}else{if(rn_mode==1||rn_mode==undefined){nav.reset();nav.full()}}});curz=99;nav={reset:function(){a("nav>ul li").unbind("mouseenter mouseleave click");a("nav .sub_nav").unbind("click").remove()},full:function(){rn_mode=0;a("nav>ul").show();a("nav ul ul").hide();a("nav>ul li").hover(function(){var b=a(this).data("timeout");if(b)clearTimeout(b);a(this).children("ul").slideDown(300).css({"z-index":curz++})},function(){a(this).data("timeout",setTimeout(a.proxy(function(){a(this).find("ul").slideUp(300)},this),300))})},mobile:function(){rn_mode=1;a("nav>ul").hide();if(a("nav>a.mobile_handle").length==0){a('<a class="mobile_handle">Navigation</a>').appendTo("nav")}a("nav>a.mobile_handle").unbind("click");a("nav>a.mobile_handle").click(function(){a("nav>ul").slideToggle(300)});if(a(".sub_nav").length==0){a("nav ul li").each(function(){if(a(this).children("ul").length>0){a('<a class="sub_nav"><div class="arrow_down"></div></a>').appendTo(this)}})}if(sub_nav_bind==false){a("nav>ul").delegate(".sub_nav","click",function(b){a(this).siblings("ul").slideToggle(300);if(a(this).children("div").hasClass("arrow_down")){a(this).children("div").attr("class","arrow_up")}else{a(this).children("div").attr("class","arrow_down")}});sub_nav_bind=true}}}}})(jQuery)
